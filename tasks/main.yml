---
- name: install freenit packages
  with_items: "{{ freenit_packages }}"
  pkgng:
    name: "{{ item.name }}"
  notify:
    - restart freenit

- name: create project repo dir
  file:
    path: /usr/local/repos
    mode: 0755
    owner: www
    group: www
    state: directory

- name: create freenit service
  template:
    src: freenit.rc.j2
    dest: /usr/local/etc/rc.d/freenit
    mode: 0755
  notify:
    - restart freenit

- name: configure freenit service
  template:
    src: freenit.j2
    dest: /etc/rc.conf.d/freenit
  notify:
    - restart freenit
